"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const PropertyMapper_1 = __importDefault(require("./PropertyMapper"));
const DataBinding_1 = __importDefault(require("./DataBinding"));
const controls_css_1 = __importDefault(require("../../css/controls.css"));
/**
 * XO Context - Gives access to contextual properties
 */
class Context {
    constructor(form) {
        this._form = form;
        this._db = new DataBinding_1.default(this);
        this._mapper = new PropertyMapper_1.default(this);
    }
    /**
     * Returns a reference to the Form instance.
     * @returns {import('./Form.js') as Form}
     */
    get form() {
        return this._form;
    }
    /**
     * Gets a reference to the DataBinding for the form.
     * @returns {DataBinding}
     */
    get data() {
        return this._db;
    }
    /**
     * @returns {PropertyMapper}
     */
    get mapper() {
        return this._mapper;
    }
    /**
     * @returns {CSSStyleSheet}
     */
    static get sharedStyles() {
        if (!this._sheet) {
            this._sheet = new CSSStyleSheet();
            this._sheet.replaceSync(controls_css_1.default);
        }
        return this._sheet;
    }
}
exports.default = Context;
//# sourceMappingURL=Context.js.map